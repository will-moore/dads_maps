<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Create a polygon</title>

<script type="text/javascript" src="http://openspace.ordnancesurvey.co.uk/osmapapi/openspace.js?key=264BA109582B0BB3E0530B6CA40A9FE6"></script>

<style>
  html, body {height: 100%;}
  #map {width: 700px; height: 500px; border:1px solid black;}
</style>


<script type="text/javascript">


// Define the osMap variable

var osMap;

// This function creates the map and is called by the div in the HTML

function init()

  {
    
// Create new map
    var options = {resolutions: [2500, 1000, 500, 200, 100, 50, 25, 10, 5]};
    
    osMap = new OpenSpace.Map('map', options);
    
// Set map centre in National Grid Eastings and Northings and select zoom level 6

    osMap.setCenter(new OpenSpace.MapPoint(439000, 114000), 6);
            
// Create a new vector layer to hold the polygon  
    
    var vectorLayer = new OpenLayers.Layer.Vector("Vector Layer");
    
    osMap.addLayer(vectorLayer);
    
// Create polygon style
    
    var style_green =
        {
            strokeColor: "#ff00ff",
            strokeOpacity: 1,
            strokeWidth: 2,
            fillColor: "#ff00ff",
            fillOpacity: 0.2
        };
    
// Define polygon area
    
    var drawRect = function(points) {
      
      var corners = points.map(function(p){
        return new OpenLayers.Geometry.Point(p[0], p[1]);
      });
      var linearRing = new OpenLayers.Geometry.LinearRing(corners);
      var polygonFeature = new OpenLayers.Feature.Vector(linearRing, null, style_green);
    
      vectorLayer.addFeatures([polygonFeature]);  
                               
    };
    
    var p1 = new OpenLayers.Geometry.Point(439000, 114000);
    var p2 = new OpenLayers.Geometry.Point(440000, 115000);
    var p3 = new OpenLayers.Geometry.Point(437000, 116000);
    var p4 = new OpenLayers.Geometry.Point(436000, 115000);
    
    drawRect( [[439000, 114000], [440000, 115000], [437000, 116000], [436000, 115000]]);
    
    drawRect( [[439000, 114000], [440000, 115000], [437000, 116000], [436000, 115000]]);
  
  }




</script>


</head>  
  
<body onload="init()">
  
<h2>Create a polygon</h2>
  
<!-- The div below holds the map -->
  
<div id="map"></div>
  
</body>
</html>
